<!DOCTYPE html>
<html lang="en">
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="Go에서 JSON을 사용하려면 먼저 표준 패키지인 ncoding&#x2F;json 패키지를 import 해야 한다. JSON구조체 -&gt; JSONGo에서 구조체를 JSON 문자열로 변환하는 법부터 적는다. 좀 당황스러웟던 건 구조체의 변수가 첫 글자가 대문자여야 된다. 그리고 JSON 문자열 만들 때 리턴 값이 2개다 첫 번째 리턴은 JSON 문자열 데이터, 2">
<meta property="og:type" content="article">
<meta property="og:title" content="Go에서 JSON, HTTP client 사용법 정리">
<meta property="og:url" content="https://hidelryn.github.io/2019/02/21/go-use-json-http/index.html">
<meta property="og:site_name" content="delryn&#39;s blog">
<meta property="og:description" content="Go에서 JSON을 사용하려면 먼저 표준 패키지인 ncoding&#x2F;json 패키지를 import 해야 한다. JSON구조체 -&gt; JSONGo에서 구조체를 JSON 문자열로 변환하는 법부터 적는다. 좀 당황스러웟던 건 구조체의 변수가 첫 글자가 대문자여야 된다. 그리고 JSON 문자열 만들 때 리턴 값이 2개다 첫 번째 리턴은 JSON 문자열 데이터, 2">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2019-02-21T03:35:23.000Z">
<meta property="article:modified_time" content="2020-09-01T06:31:36.000Z">
<meta property="article:author" content="delryn">
<meta property="article:tag" content="Go">
<meta name="twitter:card" content="summary">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>Go에서 JSON, HTTP client 사용법 정리</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
      
<link rel="stylesheet" href="/css/rtl.css">

    
    <!-- rss -->
    
    
    <link rel="canonical" href="https://hidelryn.github.io/2019/02/21/go-use-json-http/">
<meta name="generator" content="Hexo 5.1.1"><link rel="alternate" href="/atom.xml" title="delryn's blog" type="application/atom+xml">
</head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/tags/">tags</a></li>
         
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </span>
    <br>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2019/02/24/nodejs-parse-bigint-json/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2019/02/17/go-study-4/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://www.facebook.com/sharer.php?u=https://hidelryn.github.io/2019/02/21/go-use-json-http/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="https://twitter.com/share?url=https://hidelryn.github.io/2019/02/21/go-use-json-http/&text=Go에서 JSON, HTTP client 사용법 정리"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://www.linkedin.com/shareArticle?url=https://hidelryn.github.io/2019/02/21/go-use-json-http/&title=Go에서 JSON, HTTP client 사용법 정리"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="https://pinterest.com/pin/create/bookmarklet/?url=https://hidelryn.github.io/2019/02/21/go-use-json-http/&is_video=false&description=Go에서 JSON, HTTP client 사용법 정리"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Go에서 JSON, HTTP client 사용법 정리&body=Check out this article: https://hidelryn.github.io/2019/02/21/go-use-json-http/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="https://getpocket.com/save?url=https://hidelryn.github.io/2019/02/21/go-use-json-http/&title=Go에서 JSON, HTTP client 사용법 정리"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://reddit.com/submit?url=https://hidelryn.github.io/2019/02/21/go-use-json-http/&title=Go에서 JSON, HTTP client 사용법 정리"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://www.stumbleupon.com/submit?url=https://hidelryn.github.io/2019/02/21/go-use-json-http/&title=Go에서 JSON, HTTP client 사용법 정리"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://digg.com/submit?url=https://hidelryn.github.io/2019/02/21/go-use-json-http/&title=Go에서 JSON, HTTP client 사용법 정리"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://www.tumblr.com/share/link?url=https://hidelryn.github.io/2019/02/21/go-use-json-http/&name=Go에서 JSON, HTTP client 사용법 정리&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="https://news.ycombinator.com/submitlink?u=https://hidelryn.github.io/2019/02/21/go-use-json-http/&t=Go에서 JSON, HTTP client 사용법 정리"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#JSON"><span class="toc-number">1.</span> <span class="toc-text">JSON</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%EA%B5%AC%EC%A1%B0%EC%B2%B4-gt-JSON"><span class="toc-number">1.1.</span> <span class="toc-text">구조체 -&gt; JSON</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EB%A7%B5-gt-JSON"><span class="toc-number">1.2.</span> <span class="toc-text">맵 -&gt; JSON</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4-gt-JSON"><span class="toc-number">1.3.</span> <span class="toc-text">인터페이스 -&gt; JSON</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSON-%ED%8C%8C%EC%8B%B1"><span class="toc-number">1.4.</span> <span class="toc-text">JSON 파싱</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSON-gt-%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4"><span class="toc-number">1.5.</span> <span class="toc-text">JSON -&gt; 인터페이스</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSON-gt-%EA%B5%AC%EC%A1%B0%EC%B2%B4"><span class="toc-number">1.6.</span> <span class="toc-text">JSON -&gt; 구조체</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HTTP"><span class="toc-number">2.</span> <span class="toc-text">HTTP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Get"><span class="toc-number">2.1.</span> <span class="toc-text">Get</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EC%BF%BC%EB%A6%AC%EC%8A%A4%ED%8A%B8%EB%A7%81"><span class="toc-number">2.1.1.</span> <span class="toc-text">쿼리스트링</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EB%B3%B8%EB%AC%B8-%EB%B0%9B%EA%B8%B0"><span class="toc-number">2.1.2.</span> <span class="toc-text">본문 받기</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#POST"><span class="toc-number">2.2.</span> <span class="toc-text">POST</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EA%B3%B5%ED%86%B5"><span class="toc-number">2.3.</span> <span class="toc-text">공통</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%ED%97%A4%EB%8D%94-%EC%B6%94%EA%B0%80"><span class="toc-number">2.3.1.</span> <span class="toc-text">헤더 추가</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EC%83%81%ED%83%9C-%ED%99%95%EC%9D%B8"><span class="toc-number">2.3.2.</span> <span class="toc-text">상태 확인</span></a></li></ol></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Go에서 JSON, HTTP client 사용법 정리
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">delryn's blog</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2019-02-21T03:35:23.000Z" itemprop="datePublished">2019-02-21</time>
        
      
    </div>


      

      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link-link" href="/tags/Go/" rel="tag">Go</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>Go에서 JSON을 사용하려면 먼저 표준 패키지인 ncoding/json 패키지를 import 해야 한다.</p>
<h2 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h2><h3 id="구조체-gt-JSON"><a href="#구조체-gt-JSON" class="headerlink" title="구조체 -&gt; JSON"></a>구조체 -&gt; JSON</h3><p>Go에서 구조체를 JSON 문자열로 변환하는 법부터 적는다.</p>
<p>좀 당황스러웟던 건 구조체의 변수가 첫 글자가 대문자여야 된다.</p>
<p>그리고 JSON 문자열 만들 때 리턴 값이 2개다</p>
<p>첫 번째 리턴은 JSON 문자열 데이터, 2번쨰 리턴은 문자열 만드는게 실패 했을 경우의 에러</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;encoding/json&quot;</span></span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// User - 유저 구조체</span></span><br><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span> &#123;</span><br><span class="line">    ID   <span class="keyword">string</span></span><br><span class="line">    Name <span class="keyword">string</span></span><br><span class="line">    Age  <span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	u := User&#123;&#125;</span><br><span class="line"></span><br><span class="line">	u.ID = <span class="string">&quot;onepiece&quot;</span></span><br><span class="line">	u.Name = <span class="string">&quot;luffy&quot;</span></span><br><span class="line">	u.Age = <span class="number">18</span></span><br><span class="line"></span><br><span class="line">	uToJSON, err := json.Marshal(u)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(err)</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;uToJSON:&quot;</span>, <span class="keyword">string</span>(uToJSON)) <span class="comment">// uToJSON &#123;&quot;ID&quot;:&quot;onepiece&quot;,&quot;Name&quot;:&quot;luffy&quot;,&quot;Age&quot;:18&#125;</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>위에서 언급한듯이 대문자를 써야 하기 때문에 내 JSON 문자열도 대문자로 들어간다</p>
<p>소문자로 하기 위해선 다음과 같이 해야 함.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;encoding/json&quot;</span></span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// User2 - 유저2 구조체</span></span><br><span class="line"><span class="keyword">type</span> User2 <span class="keyword">struct</span> &#123;</span><br><span class="line">	ID   <span class="keyword">string</span> <span class="string">`json:&quot;id&quot;`</span></span><br><span class="line">	Name <span class="keyword">string</span> <span class="string">`json:&quot;name&quot;`</span></span><br><span class="line">	Age  <span class="keyword">int</span>    <span class="string">`json:&quot;age&quot;`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	u2 := <span class="built_in">new</span>(User2)</span><br><span class="line"></span><br><span class="line">	u2.ID = <span class="string">&quot;neverland&quot;</span></span><br><span class="line">	u2.Name = <span class="string">&quot;emma&quot;</span></span><br><span class="line">	u2.Age = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">	u2ToJSON, _ := json.Marshal(u2)</span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">&quot;u2ToJSON:&quot;</span>, <span class="keyword">string</span>(u2ToJSON)) <span class="comment">// u2ToJSON &#123;&quot;id&quot;:&quot;neverland&quot;,&quot;name&quot;:&quot;emma&quot;,&quot;age&quot;:10&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>저런식으로 정의를 해줘야 함. 좀 귀찮게 되어 잇다;;</p>
<p>그리고 마지막에 string()으로 감싸줘야 문자열로 된다. 안 그러면 바이너리 같은 형식으로 되어 있음.</p>
<p>아래처럼 key안에 또 다른 key/value가 잇는 JSON 같은 경우에는 구조체 안의 구조체로.</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;aa&quot;</span>: <span class="string">&quot;xx&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;bb&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;z&quot;</span>: <span class="string">&quot;z&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;encoding/json&quot;</span></span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Anime - 애니매 구조체</span></span><br><span class="line"><span class="keyword">type</span> Anime <span class="keyword">struct</span> &#123;</span><br><span class="line">    Title   <span class="keyword">string</span> <span class="string">`json:&quot;title&quot;`</span></span><br><span class="line">    Year    <span class="keyword">int</span>    <span class="string">`json:&quot;year&quot;`</span></span><br><span class="line">    Heroine Heroine <span class="comment">// 요런식으로 밑의 구조체를 추가</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Heroine - 여히로인 *-_-* 구조체</span></span><br><span class="line"><span class="keyword">type</span> Heroine <span class="keyword">struct</span> &#123;</span><br><span class="line">    Name <span class="keyword">string</span> <span class="string">`json:&quot;name&quot;`</span></span><br><span class="line">    Age  <span class="keyword">int</span>    <span class="string">`json:&quot;age&quot;`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    ani := <span class="built_in">new</span>(Anime)</span><br><span class="line"></span><br><span class="line">    ani.Title = <span class="string">&quot;방패용사 성공담&quot;</span></span><br><span class="line">    ani.Year = <span class="number">2019</span></span><br><span class="line">    ani.Heroine.Name = <span class="string">&quot;필로&quot;</span></span><br><span class="line">    ani.Heroine.Age = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    aniToJSON, _ := json.Marshal(ani)</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;aniToJSON:&quot;</span>, <span class="keyword">string</span>(aniToJSON)) <span class="comment">// aniToJSON &#123;&quot;title&quot;:&quot;방패용사 성공담&quot;,&quot;year&quot;:2019,&quot;Heroine&quot;:&#123;&quot;name&quot;:&quot;필로&quot;,&quot;age&quot;:1&#125;&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="맵-gt-JSON"><a href="#맵-gt-JSON" class="headerlink" title="맵 -&gt; JSON"></a>맵 -&gt; JSON</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;encoding/json&quot;</span></span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> myMap <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span></span><br><span class="line"></span><br><span class="line">    myMap = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>)</span><br><span class="line"></span><br><span class="line">    myMap[<span class="string">&quot;a&quot;</span>] = <span class="string">&quot;apple&quot;</span></span><br><span class="line">    myMap[<span class="string">&quot;b&quot;</span>] = <span class="string">&quot;banana&quot;</span></span><br><span class="line"></span><br><span class="line">    myMapToJSON, _ := json.Marshal(myMap)</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;myMapToJSON:&quot;</span>, <span class="keyword">string</span>(myMapToJSON)) <span class="comment">// myMapToJSON: &#123;&quot;a&quot;:&quot;apple&quot;,&quot;b&quot;:&quot;banana&quot;&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="인터페이스-gt-JSON"><a href="#인터페이스-gt-JSON" class="headerlink" title="인터페이스 -&gt; JSON"></a>인터페이스 -&gt; JSON</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;encoding/json&quot;</span></span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    m := <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;</span><br><span class="line">        <span class="string">&quot;a&quot;</span>: <span class="string">&quot;hi&quot;</span>,</span><br><span class="line">        <span class="string">&quot;b&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="string">&quot;c&quot;</span>: <span class="number">33</span>,</span><br><span class="line">        <span class="string">&quot;d&quot;</span>: []<span class="keyword">interface</span>&#123;&#125;&#123;</span><br><span class="line">            <span class="string">&quot;array1&quot;</span>,</span><br><span class="line">            <span class="string">&quot;array2&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;e&quot;</span>: <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;</span><br><span class="line">            <span class="string">&quot;x&quot;</span>: <span class="string">&quot;x&quot;</span>,</span><br><span class="line">            <span class="string">&quot;y&quot;</span>: <span class="string">&quot;y&quot;</span>,</span><br><span class="line">            <span class="string">&quot;z&quot;</span>: <span class="string">&quot;z&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    mToJSON, _ := json.Marshal(m)</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;mToJSON:&quot;</span>, <span class="keyword">string</span>(mToJSON)) <span class="comment">// mToJSON &#123;&quot;a&quot;:&quot;hi&quot;,&quot;b&quot;:true,&quot;c&quot;:33,&quot;d&quot;:[&quot;array1&quot;,&quot;array2&quot;],&quot;e&quot;:&#123;&quot;x&quot;:&quot;x&quot;,&quot;y&quot;:&quot;y&quot;,&quot;z&quot;:&quot;z&quot;&#125;&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="JSON-파싱"><a href="#JSON-파싱" class="headerlink" title="JSON 파싱"></a>JSON 파싱</h3><p>읽을 샘플 데이터</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;int&quot;</span>: <span class="number">3</span>,</span><br><span class="line">    <span class="attr">&quot;str&quot;</span>: <span class="string">&quot;aaa&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;bool&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;arr&quot;</span>: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],</span><br><span class="line">    <span class="attr">&quot;obj&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;x&quot;</span>: <span class="string">&quot;x&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;y&quot;</span>: <span class="string">&quot;y&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;all&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;obj2&quot;</span>: &#123;</span><br><span class="line">            <span class="attr">&quot;obj3&quot;</span>: &#123;</span><br><span class="line">                <span class="attr">&quot;a&quot;</span>: <span class="string">&quot;a&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;b&quot;</span>: <span class="string">&quot;b&quot;</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">&quot;bool&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="attr">&quot;arr2&quot;</span>: [<span class="string">&quot;q&quot;</span>, <span class="string">&quot;w&quot;</span>, <span class="string">&quot;e&quot;</span>]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>io/ioutil라는 표준 패키지를 통해 파일을 읽을 수 잇음.</p>
<h3 id="JSON-gt-인터페이스"><a href="#JSON-gt-인터페이스" class="headerlink" title="JSON -&gt; 인터페이스"></a>JSON -&gt; 인터페이스</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;encoding/json&quot;</span></span><br><span class="line">    <span class="string">&quot;io/ioutil&quot;</span></span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    myJSON, err := ioutil.ReadFile(<span class="string">&quot;./sample.json&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="built_in">panic</span>(err)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;myJSON:&quot;</span>, <span class="keyword">string</span>(myJSON)) <span class="comment">// 위의 샘플 json 문자열인 상태.</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 먼저 담을 인터페이스를 만드러준다.</span></span><br><span class="line">    <span class="keyword">var</span> myJSONparse <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">interface</span>&#123;&#125; </span><br><span class="line"></span><br><span class="line">    <span class="comment">// 에러 담을 변수(JSON parse 실패 시 리턴.) := json.Unmarshal(JSON 문자열, 담을 인터페이스나 구조체의 포인터)</span></span><br><span class="line">    e := json.Unmarshal(myJSON, &amp;myJSONparse) <span class="comment">// 이게 파싱하는 구문. </span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> e != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="built_in">panic</span>(e)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        fmt.Println(myJSONparse) <span class="comment">// map[int:3 str:aaa bool:true arr:[1 2 3] obj:map[x:x y:y] all:map[obj2:map[obj3:map[a:a b:b] bool:false arr2:[q w e]]]]</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    myInt := myJSONparse[<span class="string">&quot;int&quot;</span>]</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;myInt:&quot;</span>, myInt) <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line">    myStr := myJSONparse[<span class="string">&quot;str&quot;</span>]</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;myStr:&quot;</span>, myStr) <span class="comment">// aaa</span></span><br><span class="line"></span><br><span class="line">    myBool := myJSONparse[<span class="string">&quot;bool&quot;</span>]</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;myBool:&quot;</span>, myBool) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">    all := myJSONparse[<span class="string">&quot;all&quot;</span>]</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">`myJSONparse[&quot;all&quot;]:`</span>, all) <span class="comment">// myJSONparse[&quot;all&quot;] map[obj2:map[obj3:map[a:a b:b] bool:false arr2:[q w e]]]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 인터페이스 안의 맵들은 앞에 map 인터페이스를 붙여줘야 된다, 안 하면 에러가 난다..</span></span><br><span class="line">    obj2 := all.(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">interface</span>&#123;&#125;)[<span class="string">&quot;obj2&quot;</span>]</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;obj2&quot;</span>, obj2) <span class="comment">// map[obj3:map[a:a b:b] bool:false arr2:[q w e]]</span></span><br><span class="line"></span><br><span class="line">    obj3 := obj2.(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">interface</span>&#123;&#125;)[<span class="string">&quot;obj3&quot;</span>]</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;obj3:&quot;</span>, obj3) <span class="comment">// obj3: map[a:a b:b]</span></span><br><span class="line"></span><br><span class="line">    obj3A := obj3.(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">interface</span>&#123;&#125;)[<span class="string">&quot;a&quot;</span>]</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;obj3.a:&quot;</span>, obj3A) <span class="comment">// obj3.a: a</span></span><br><span class="line"></span><br><span class="line">    obj3B := obj3.(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">interface</span>&#123;&#125;)[<span class="string">&quot;b&quot;</span>]</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;obj3.b:&quot;</span>, obj3B) <span class="comment">// obj3.b: b</span></span><br><span class="line"></span><br><span class="line">    obj3C := obj3.(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">interface</span>&#123;&#125;)[<span class="string">&quot;c&quot;</span>]</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;obj3.c:&quot;</span>, obj3C) <span class="comment">// obj3.c: &lt;nil&gt; 업는 값이니깐</span></span><br><span class="line"></span><br><span class="line">    obj2Bool := obj2.(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">interface</span>&#123;&#125;)[<span class="string">&quot;bool&quot;</span>]</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;obj2.bool:&quot;</span>, obj2Bool) <span class="comment">// obj2.bool: false</span></span><br><span class="line"></span><br><span class="line">    obj2Arr2 := obj2.(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">interface</span>&#123;&#125;)[<span class="string">&quot;arr2&quot;</span>]</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;obj2.arr:&quot;</span>, obj2Arr2) <span class="comment">// obj2.arr: [q w e]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="JSON-gt-구조체"><a href="#JSON-gt-구조체" class="headerlink" title="JSON -&gt; 구조체"></a>JSON -&gt; 구조체</h3><p>구조체를 조낸 정의해서 받아야 함.. -_-</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;encoding/json&quot;</span></span><br><span class="line">    <span class="string">&quot;io/ioutil&quot;</span></span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// parseJSON - JSON 1depth</span></span><br><span class="line"><span class="keyword">type</span> parseJSON <span class="keyword">struct</span> &#123;</span><br><span class="line">    Int  <span class="keyword">int</span>      <span class="string">`json:&quot;int&quot;`</span></span><br><span class="line">    Str  <span class="keyword">string</span>   <span class="string">`json:&quot;str&quot;`</span></span><br><span class="line">    Bool <span class="keyword">bool</span>     <span class="string">`json:&quot;bool&quot;`</span></span><br><span class="line">    Arr  []<span class="keyword">int</span>    <span class="string">`json:&quot;arr&quot;`</span></span><br><span class="line">    Obj  FirstObj <span class="string">`json:&quot;obj&quot;`</span></span><br><span class="line">    All  FirstAll <span class="string">`json:&quot;all&quot;`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// FirstObj - JSON 1depth obj</span></span><br><span class="line"><span class="keyword">type</span> FirstObj <span class="keyword">struct</span> &#123;</span><br><span class="line">    X <span class="keyword">string</span> <span class="string">`json:&quot;x&quot;`</span></span><br><span class="line">    Y <span class="keyword">string</span> <span class="string">`json:&quot;y&quot;`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// FirstAll - JSON 1depth all</span></span><br><span class="line"><span class="keyword">type</span> FirstAll <span class="keyword">struct</span> &#123;</span><br><span class="line">    All SecondObj2 <span class="string">`json:&quot;obj2&quot;`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// SecondObj2 - JSON 2depth obj2</span></span><br><span class="line"><span class="keyword">type</span> SecondObj2 <span class="keyword">struct</span> &#123;</span><br><span class="line">    Obj3 thirdObj3 <span class="string">`json:&quot;obj3&quot;`</span></span><br><span class="line">    Bool <span class="keyword">bool</span>      <span class="string">`json:&quot;bool&quot;`</span></span><br><span class="line">    Arr2 []<span class="keyword">string</span>  <span class="string">`json:&quot;arr2&quot;`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// thirdObj3 - JSON 3depth obj3</span></span><br><span class="line"><span class="keyword">type</span> thirdObj3 <span class="keyword">struct</span> &#123;</span><br><span class="line">    A <span class="keyword">string</span> <span class="string">`json:&quot;a&quot;`</span></span><br><span class="line">    B <span class="keyword">string</span> <span class="string">`json:&quot;b&quot;`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    myJSON, err := ioutil.ReadFile(<span class="string">&quot;./sample.json&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="built_in">panic</span>(err)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;myJSON:&quot;</span>, <span class="keyword">string</span>(myJSON))</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    res := parseJSON&#123;&#125;</span><br><span class="line"></span><br><span class="line">    parseErr := json.Unmarshal(myJSON, &amp;res)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> parseErr != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="built_in">panic</span>(parseErr)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        fmt.Println(res) <span class="comment">// &#123;3 aaa true [1 2 3] &#123;x y&#125; &#123;&#123;&#123;a b&#125; false [q w e]&#125;&#125;&#125;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h2><p>확인용으로 Express로 하나 띄움</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = express();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> bodyParser = <span class="built_in">require</span>(<span class="string">&#x27;body-parser&#x27;</span>);</span><br><span class="line"></span><br><span class="line">app.use(bodyParser.json());</span><br><span class="line">app.use(bodyParser.urlencoded(&#123;</span><br><span class="line">  extended: <span class="literal">true</span></span><br><span class="line">&#125;));</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">3000</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;listen&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">&#x27;/q&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">    res.status(<span class="number">200</span>).send(&#123;<span class="attr">code</span>: <span class="number">200</span>, <span class="attr">message</span>: <span class="string">&quot;hi&quot;</span>&#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">&#x27;/q2&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">    res.status(<span class="number">403</span>).send(&#123;<span class="attr">code</span>: <span class="number">403</span>, <span class="attr">message</span>: <span class="string">&quot;403&quot;</span>&#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">&#x27;/q3&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">    res.status(<span class="number">500</span>).send(&#123;<span class="attr">code</span>: <span class="number">500</span>, <span class="attr">message</span>: <span class="string">&quot;wrong&quot;</span>&#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">&#x27;/q4&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(req.query);</span><br><span class="line">    res.status(<span class="number">200</span>).send(&#123;<span class="attr">code</span>: <span class="number">200</span>, <span class="attr">message</span>: req.query.id&#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">&#x27;/q5&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;req header: &#x27;</span>, req.headers);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;content-type: &#x27;</span>, req.headers[<span class="string">&#x27;content-type&#x27;</span>]);</span><br><span class="line">    res.status(<span class="number">200</span>).send(&#123;<span class="attr">code</span>: <span class="number">200</span>, <span class="attr">message</span>: <span class="string">&quot;hi&quot;</span>&#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.post(<span class="string">&#x27;/w&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;body: &#x27;</span>, req.body);</span><br><span class="line">    res.status(<span class="number">200</span>).send(&#123;<span class="attr">code</span>: <span class="number">200</span>, <span class="attr">id</span>: req.body.id, <span class="attr">name</span>: req.body.name&#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.post(<span class="string">&#x27;/w2&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;req header: &#x27;</span>, req.headers);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;content-type: &#x27;</span>, req.headers[<span class="string">&#x27;content-type&#x27;</span>]);</span><br><span class="line">    res.status(<span class="number">200</span>).send(&#123;<span class="attr">code</span>: <span class="number">200</span>, <span class="attr">title</span>: req.body.title&#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>내장 패키지 net/http를 통해 가능함.</p>
<h3 id="Get"><a href="#Get" class="headerlink" title="Get"></a>Get</h3><h4 id="쿼리스트링"><a href="#쿼리스트링" class="headerlink" title="쿼리스트링"></a>쿼리스트링</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;net/http&quot;</span></span><br><span class="line">    <span class="string">&quot;net/url&quot;</span></span><br><span class="line">    <span class="string">&quot;io/ioutil&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    req2, err := http.NewRequest(<span class="string">&quot;GET&quot;</span>, <span class="string">&quot;http://localhost:3000/q4&quot;</span>, <span class="literal">nil</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="built_in">panic</span>(err)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    q := url.Values&#123;&#125;</span><br><span class="line">	q.Add(<span class="string">&quot;userId&quot;</span>, <span class="string">&quot;eqweqw12312&quot;</span>)</span><br><span class="line">	q.Add(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;홍길동&quot;</span>)</span><br><span class="line">	q.Add(<span class="string">&quot;api_key&quot;</span>, <span class="string">&quot;zfxgrwwewrere&quot;</span>)</span><br><span class="line"></span><br><span class="line">    req2.URL.RawQuery = q.Encode() <span class="comment">// 쿼리스트링 이스케이프</span></span><br><span class="line"></span><br><span class="line">    client2 := &amp;http.Client&#123;&#125;</span><br><span class="line"></span><br><span class="line">    res2, err := client2.Do(req2) <span class="comment">// 여기가 실제 실행하는 부분.</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="built_in">panic</span>(err)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">defer</span> res2.Body.Close()</span><br><span class="line"></span><br><span class="line">    thisBody2, err := ioutil.ReadAll(res2.Body)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="built_in">panic</span>(err)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;thisBody2&quot;</span>, <span class="keyword">string</span>(thisBody2)) <span class="comment">// thisBody2 &#123;&quot;code&quot;:200&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="본문-받기"><a href="#본문-받기" class="headerlink" title="본문 받기"></a>본문 받기</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;encoding/json&quot;</span></span><br><span class="line">	<span class="string">&quot;io/ioutil&quot;</span></span><br><span class="line">	<span class="string">&quot;net/http&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> parseJSON <span class="keyword">struct</span> &#123;</span><br><span class="line">	Code    <span class="keyword">int</span>    <span class="string">`json:&quot;code&quot;`</span></span><br><span class="line">	Message <span class="keyword">string</span> <span class="string">`json:&quot;message&quot;`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    resp, err := http.Get(<span class="string">&quot;http://localhost:3000/q&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="built_in">panic</span>(err)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">defer</span> resp.Body.Close() <span class="comment">// client exit</span></span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;resp&quot;</span>, resp) <span class="comment">// resp &amp;&#123;200 OK 200 HTTP/1.1 1 1 map[Connection:[keep-alive] X-Powered-By:[Express] Content-Type:[application/json; charset=utf-8] Content-Length:[27] Etag:[W/&quot;1b-yJ5LQLosEB2UsjA+s0n8DgGAfvY&quot;] Date:[Sun, 24 Feb 2019 14:42:31 GMT]] 0xc42013c400 27 [] false false map[] 0xc42010a100 &lt;nil&gt;&#125;</span></span><br><span class="line"></span><br><span class="line">    body, err := ioutil.ReadAll(resp.Body) <span class="comment">// body를 읽으면 이렇게 해야 된다.</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="built_in">panic</span>(err)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;body&quot;</span>, <span class="keyword">string</span>(body)) <span class="comment">// body &#123;&quot;code&quot;:200,&quot;message&quot;:&quot;hi&quot;&#125;</span></span><br><span class="line"></span><br><span class="line">    thisRes := parseJSON&#123;&#125;</span><br><span class="line"></span><br><span class="line">    parseErr := json.Unmarshal(body, &amp;thisRes) <span class="comment">// json parse</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> parseErr != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="built_in">panic</span>(parseErr)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fmt.Println(thisRes.Code) <span class="comment">// 200</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="POST"><a href="#POST" class="headerlink" title="POST"></a>POST</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;net/http&quot;</span></span><br><span class="line">    <span class="string">&quot;io/ioutil&quot;</span></span><br><span class="line">    <span class="string">&quot;encoding/json&quot;</span></span><br><span class="line">    <span class="string">&quot;bytes&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// myParam - JSON 파라미터</span></span><br><span class="line"><span class="keyword">type</span> myParam <span class="keyword">struct</span> &#123;</span><br><span class="line">	ID   <span class="keyword">string</span> <span class="string">`json:&quot;id&quot;`</span></span><br><span class="line">	Name <span class="keyword">string</span> <span class="string">`json:&quot;name&quot;`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    thisParam := myParam&#123;&#125; <span class="comment">// 구조체.</span></span><br><span class="line"></span><br><span class="line">    thisParam.ID = <span class="string">&quot;SAO&quot;</span></span><br><span class="line">    thisParam.Name = <span class="string">&quot;kirito&quot;</span></span><br><span class="line"></span><br><span class="line">    reqParams, _ := json.Marshal(thisParam) <span class="comment">// json stringfy()</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// json 문자열로 변경을 한 후 byte로 변경을 해줘야 한다. 파라미터에 string이 들어갈수가 업음..</span></span><br><span class="line"></span><br><span class="line">    buff := bytes.NewBuffer(reqParams)</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;buff&quot;</span>, buff) <span class="comment">// buff &#123;&quot;id&quot;:&quot;SAO&quot;,&quot;name&quot;:&quot;kirito&quot;&#125;</span></span><br><span class="line"></span><br><span class="line">    postRes2, err := http.Post(<span class="string">&quot;http://localhost:3000/w&quot;</span>, <span class="string">&quot;application/json&quot;</span>, buff)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="built_in">panic</span>(err)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">defer</span> postRes2.Body.Close()</span><br><span class="line"></span><br><span class="line">    postResBody2, err := ioutil.ReadAll(postRes2.Body)</span><br><span class="line">    <span class="keyword">if</span> err == <span class="literal">nil</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;postResBody2&quot;</span>, <span class="keyword">string</span>(postResBody2)) <span class="comment">// postResBody2 &#123;&quot;code&quot;:200,&quot;id&quot;:&quot;SAO&quot;,&quot;name&quot;:&quot;kirito&quot;&#125;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="공통"><a href="#공통" class="headerlink" title="공통"></a>공통</h3><h4 id="헤더-추가"><a href="#헤더-추가" class="headerlink" title="헤더 추가"></a>헤더 추가</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;net/http&quot;</span></span><br><span class="line">    <span class="string">&quot;io/ioutil&quot;</span></span><br><span class="line">    <span class="string">&quot;bytes&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> jsonStr = []<span class="keyword">byte</span>(<span class="string">`&#123;&quot;title&quot;:&quot;전생했더니 슬라임이었던 건에 대하여&quot;&#125;`</span>)</span><br><span class="line"></span><br><span class="line">    req, err := http.NewRequest(<span class="string">&quot;POST&quot;</span>, <span class="string">&quot;http://localhost:3000/w2&quot;</span>, bytes.NewBuffer(jsonStr))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="built_in">panic</span>(err)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    req.Header.Add(<span class="string">&quot;content-type&quot;</span>, <span class="string">&quot;application/json&quot;</span>) <span class="comment">// 이런 식으로 헤더에 추가할 수 있다.</span></span><br><span class="line">    req.Header.Add(<span class="string">&quot;Accept&quot;</span>, <span class="string">&quot;application/json&quot;</span>)</span><br><span class="line"></span><br><span class="line">    client := &amp;http.Client&#123;&#125;</span><br><span class="line"></span><br><span class="line">    res, err := client.Do(req)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="built_in">panic</span>(err)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">defer</span> res.Body.Close()</span><br><span class="line"></span><br><span class="line">    thisBody, err := ioutil.ReadAll(res.Body)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="built_in">panic</span>(err)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;thisBody&quot;</span>, <span class="keyword">string</span>(thisBody)) <span class="comment">// thisBody &#123;&quot;code&quot;:200,&quot;title&quot;:&quot;전생했더니 슬라임이었던 건에 대하여&quot;&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="상태-확인"><a href="#상태-확인" class="headerlink" title="상태 확인"></a>상태 확인</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;net/http&quot;</span></span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    ch1 := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">interface</span>&#123;&#125;) <span class="comment">// 상태를 받기 위한 채널.</span></span><br><span class="line"></span><br><span class="line">    ch2 := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">interface</span>&#123;&#125;)</span><br><span class="line"></span><br><span class="line">    ch3 := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">interface</span>&#123;&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        resp, err := http.Get(<span class="string">&quot;http://localhost:3000/q&quot;</span>) <span class="comment">// http 메소드 GET</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">            <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">defer</span> resp.Body.Close() <span class="comment">// http 클라이언트 종료.</span></span><br><span class="line"></span><br><span class="line">        r := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">interface</span>&#123;&#125;)</span><br><span class="line"></span><br><span class="line">        r[<span class="string">&quot;statusCode&quot;</span>] = resp.StatusCode <span class="comment">// 상태코드.</span></span><br><span class="line">        r[<span class="string">&quot;status&quot;</span>] = resp.Status <span class="comment">// 상태 메세지.</span></span><br><span class="line"></span><br><span class="line">        ch1 &lt;- r</span><br><span class="line"></span><br><span class="line">    &#125;()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        resp, err := http.Get(<span class="string">&quot;http://localhost:3000/q2&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">            <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">defer</span> resp.Body.Close() <span class="comment">// client exit</span></span><br><span class="line"></span><br><span class="line">        r := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">interface</span>&#123;&#125;)</span><br><span class="line"></span><br><span class="line">        r[<span class="string">&quot;statusCode&quot;</span>] = resp.StatusCode</span><br><span class="line">        r[<span class="string">&quot;status&quot;</span>] = resp.Status</span><br><span class="line"></span><br><span class="line">        ch2 &lt;- r</span><br><span class="line"></span><br><span class="line">    &#125;()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        resp, err := http.Get(<span class="string">&quot;http://localhost:3000/q3&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">            <span class="built_in">panic</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">defer</span> resp.Body.Close() <span class="comment">// client exit</span></span><br><span class="line"></span><br><span class="line">        r := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">interface</span>&#123;&#125;)</span><br><span class="line"></span><br><span class="line">        r[<span class="string">&quot;statusCode&quot;</span>] = resp.StatusCode</span><br><span class="line">        r[<span class="string">&quot;status&quot;</span>] = resp.Status</span><br><span class="line"></span><br><span class="line">        ch3 &lt;- r</span><br><span class="line"></span><br><span class="line">    &#125;()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> index := <span class="number">0</span>; index &lt; <span class="number">3</span>; index++ &#123;</span><br><span class="line">        <span class="keyword">select</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> msg1 := &lt;-ch1:</span><br><span class="line">            fmt.Println(<span class="string">&quot;첫 번쨰 리퀘스트 http status&quot;</span>, msg1) <span class="comment">// 첫 번쨰 리퀘스트 http status map[statusCode:200 status:200 OK]</span></span><br><span class="line">        <span class="keyword">case</span> msg2 := &lt;-ch2:</span><br><span class="line">            fmt.Println(<span class="string">&quot;두 번쨰 리퀘스트 http status&quot;</span>, msg2) <span class="comment">// 두 번쨰 리퀘스트 http status map[statusCode:403 status:403 Forbidden]</span></span><br><span class="line">        <span class="keyword">case</span> msg3 := &lt;-ch3:</span><br><span class="line">            fmt.Println(<span class="string">&quot;세 번쨰 리퀘스트 http status&quot;</span>, msg3) <span class="comment">// 세 번쨰 리퀘스트 http status map[statusCode:500 status:500 Internal Server Error]</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>










  </div>
</article>

<script src="https://utteranc.es/client.js" repo="hidelryn/blog-comment" issue-term="title" label="Comment" theme="github-dark-orange" crossorigin="anonymous" async>
  </script>


        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/tags/">tags</a></li>
         
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#JSON"><span class="toc-number">1.</span> <span class="toc-text">JSON</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%EA%B5%AC%EC%A1%B0%EC%B2%B4-gt-JSON"><span class="toc-number">1.1.</span> <span class="toc-text">구조체 -&gt; JSON</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EB%A7%B5-gt-JSON"><span class="toc-number">1.2.</span> <span class="toc-text">맵 -&gt; JSON</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4-gt-JSON"><span class="toc-number">1.3.</span> <span class="toc-text">인터페이스 -&gt; JSON</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSON-%ED%8C%8C%EC%8B%B1"><span class="toc-number">1.4.</span> <span class="toc-text">JSON 파싱</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSON-gt-%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4"><span class="toc-number">1.5.</span> <span class="toc-text">JSON -&gt; 인터페이스</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSON-gt-%EA%B5%AC%EC%A1%B0%EC%B2%B4"><span class="toc-number">1.6.</span> <span class="toc-text">JSON -&gt; 구조체</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HTTP"><span class="toc-number">2.</span> <span class="toc-text">HTTP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Get"><span class="toc-number">2.1.</span> <span class="toc-text">Get</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EC%BF%BC%EB%A6%AC%EC%8A%A4%ED%8A%B8%EB%A7%81"><span class="toc-number">2.1.1.</span> <span class="toc-text">쿼리스트링</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EB%B3%B8%EB%AC%B8-%EB%B0%9B%EA%B8%B0"><span class="toc-number">2.1.2.</span> <span class="toc-text">본문 받기</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#POST"><span class="toc-number">2.2.</span> <span class="toc-text">POST</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EA%B3%B5%ED%86%B5"><span class="toc-number">2.3.</span> <span class="toc-text">공통</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%ED%97%A4%EB%8D%94-%EC%B6%94%EA%B0%80"><span class="toc-number">2.3.1.</span> <span class="toc-text">헤더 추가</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EC%83%81%ED%83%9C-%ED%99%95%EC%9D%B8"><span class="toc-number">2.3.2.</span> <span class="toc-text">상태 확인</span></a></li></ol></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://www.facebook.com/sharer.php?u=https://hidelryn.github.io/2019/02/21/go-use-json-http/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="https://twitter.com/share?url=https://hidelryn.github.io/2019/02/21/go-use-json-http/&text=Go에서 JSON, HTTP client 사용법 정리"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://www.linkedin.com/shareArticle?url=https://hidelryn.github.io/2019/02/21/go-use-json-http/&title=Go에서 JSON, HTTP client 사용법 정리"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="https://pinterest.com/pin/create/bookmarklet/?url=https://hidelryn.github.io/2019/02/21/go-use-json-http/&is_video=false&description=Go에서 JSON, HTTP client 사용법 정리"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Go에서 JSON, HTTP client 사용법 정리&body=Check out this article: https://hidelryn.github.io/2019/02/21/go-use-json-http/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="https://getpocket.com/save?url=https://hidelryn.github.io/2019/02/21/go-use-json-http/&title=Go에서 JSON, HTTP client 사용법 정리"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://reddit.com/submit?url=https://hidelryn.github.io/2019/02/21/go-use-json-http/&title=Go에서 JSON, HTTP client 사용법 정리"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://www.stumbleupon.com/submit?url=https://hidelryn.github.io/2019/02/21/go-use-json-http/&title=Go에서 JSON, HTTP client 사용법 정리"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://digg.com/submit?url=https://hidelryn.github.io/2019/02/21/go-use-json-http/&title=Go에서 JSON, HTTP client 사용법 정리"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://www.tumblr.com/share/link?url=https://hidelryn.github.io/2019/02/21/go-use-json-http/&name=Go에서 JSON, HTTP client 사용법 정리&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="https://news.ycombinator.com/submitlink?u=https://hidelryn.github.io/2019/02/21/go-use-json-http/&t=Go에서 JSON, HTTP client 사용법 정리"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2018-2021
    delryn
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/tags/">tags</a></li>
         
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->

<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">


<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">


    <!-- jquery -->

<script src="/lib/jquery/jquery.min.js"></script>


<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>

<!-- clipboard -->

  
<script src="/lib/clipboard/clipboard.min.js"></script>

  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-104148803-2', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Baidu Analytics -->

<!-- Disqus Comments -->


</body>
</html>
