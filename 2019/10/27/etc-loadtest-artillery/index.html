<!DOCTYPE html>
<html lang="en">
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="부하 테스트예로 내가 어떤 게임 서버를 만들었는데 아마도 유저가 최대 얼마 정도 접속 해서 API를 호출 하지 않을까? 예상해서 가상의 유저를 생성하여 API를 계속 호출해서 서버가 어떤 상태가  되는지 확인을 하는 것을 부하 테스트라 이해 했다. 부하 테스트를 통해 현재 이 서비스의 서버 사양이 괜찮은지, 어플리케이션이 점점 느려진다는지 등등 이러한 부분">
<meta property="og:type" content="article">
<meta property="og:title" content="Artillery를 이용한 부하 테스트">
<meta property="og:url" content="https://hidelryn.github.io/2019/10/27/etc-loadtest-artillery/index.html">
<meta property="og:site_name" content="delryn&#39;s blog">
<meta property="og:description" content="부하 테스트예로 내가 어떤 게임 서버를 만들었는데 아마도 유저가 최대 얼마 정도 접속 해서 API를 호출 하지 않을까? 예상해서 가상의 유저를 생성하여 API를 계속 호출해서 서버가 어떤 상태가  되는지 확인을 하는 것을 부하 테스트라 이해 했다. 부하 테스트를 통해 현재 이 서비스의 서버 사양이 괜찮은지, 어플리케이션이 점점 느려진다는지 등등 이러한 부분">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2019-10-27T08:22:19.000Z">
<meta property="article:modified_time" content="2020-09-01T09:34:35.000Z">
<meta property="article:author" content="delryn">
<meta property="article:tag" content="LoadTest">
<meta name="twitter:card" content="summary">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>Artillery를 이용한 부하 테스트</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
      
<link rel="stylesheet" href="/css/rtl.css">

    
    <!-- rss -->
    
    
    <link rel="canonical" href="https://hidelryn.github.io/2019/10/27/etc-loadtest-artillery/">
<meta name="generator" content="Hexo 5.1.1"><link rel="alternate" href="/atom.xml" title="delryn's blog" type="application/atom+xml">
</head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/tags/">tags</a></li>
         
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </span>
    <br>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2019/12/08/etc-mac-hidden/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2019/09/25/nodejs-use-sequelize-2/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://www.facebook.com/sharer.php?u=https://hidelryn.github.io/2019/10/27/etc-loadtest-artillery/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="https://twitter.com/share?url=https://hidelryn.github.io/2019/10/27/etc-loadtest-artillery/&text=Artillery를 이용한 부하 테스트"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://www.linkedin.com/shareArticle?url=https://hidelryn.github.io/2019/10/27/etc-loadtest-artillery/&title=Artillery를 이용한 부하 테스트"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="https://pinterest.com/pin/create/bookmarklet/?url=https://hidelryn.github.io/2019/10/27/etc-loadtest-artillery/&is_video=false&description=Artillery를 이용한 부하 테스트"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Artillery를 이용한 부하 테스트&body=Check out this article: https://hidelryn.github.io/2019/10/27/etc-loadtest-artillery/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="https://getpocket.com/save?url=https://hidelryn.github.io/2019/10/27/etc-loadtest-artillery/&title=Artillery를 이용한 부하 테스트"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://reddit.com/submit?url=https://hidelryn.github.io/2019/10/27/etc-loadtest-artillery/&title=Artillery를 이용한 부하 테스트"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://www.stumbleupon.com/submit?url=https://hidelryn.github.io/2019/10/27/etc-loadtest-artillery/&title=Artillery를 이용한 부하 테스트"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://digg.com/submit?url=https://hidelryn.github.io/2019/10/27/etc-loadtest-artillery/&title=Artillery를 이용한 부하 테스트"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://www.tumblr.com/share/link?url=https://hidelryn.github.io/2019/10/27/etc-loadtest-artillery/&name=Artillery를 이용한 부하 테스트&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="https://news.ycombinator.com/submitlink?u=https://hidelryn.github.io/2019/10/27/etc-loadtest-artillery/&t=Artillery를 이용한 부하 테스트"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%EB%B6%80%ED%95%98-%ED%85%8C%EC%8A%A4%ED%8A%B8"><span class="toc-number">1.</span> <span class="toc-text">부하 테스트</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Artillery"><span class="toc-number">2.</span> <span class="toc-text">Artillery</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EC%84%A4%EC%B9%98"><span class="toc-number">3.</span> <span class="toc-text">설치</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EC%97%B0%EC%8A%B5%ED%95%A0-%EC%96%B4%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98"><span class="toc-number">4.</span> <span class="toc-text">연습할 어플리케이션</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EC%8B%9C%EB%82%98%EB%A6%AC%EC%98%A4"><span class="toc-number">5.</span> <span class="toc-text">시나리오</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EC%8B%A4%ED%96%89-%EB%B0%8F-%EA%B2%B0%EA%B3%BC"><span class="toc-number">6.</span> <span class="toc-text">실행 및 결과</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EC%B0%B8%EA%B3%A0"><span class="toc-number">7.</span> <span class="toc-text">참고</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Artillery를 이용한 부하 테스트
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">delryn's blog</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2019-10-27T08:22:19.000Z" itemprop="datePublished">2019-10-27</time>
        
      
    </div>


      

      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link-link" href="/tags/LoadTest/" rel="tag">LoadTest</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h2 id="부하-테스트"><a href="#부하-테스트" class="headerlink" title="부하 테스트"></a>부하 테스트</h2><p>예로 내가 어떤 게임 서버를 만들었는데 아마도 유저가 최대 얼마 정도 접속 해서 API를</p>
<p>호출 하지 않을까? 예상해서 가상의 유저를 생성하여 API를 계속 호출해서 서버가 어떤 상태가 </p>
<p>되는지 확인을 하는 것을 부하 테스트라 이해 했다.</p>
<p>부하 테스트를 통해 현재 이 서비스의 서버 사양이 괜찮은지, 어플리케이션이 점점 느려진다는지</p>
<p>등등 이러한 부분을 체크 하여 수정 및 개선을 한다.</p>
<p>실제로 온라인 게임등을 보면 종종 오픈 시 서버가 터지는데 얼마나 몰린건지.. 무섭다</p>
<h2 id="Artillery"><a href="#Artillery" class="headerlink" title="Artillery"></a>Artillery</h2><p>Artillery는 Node.js에서 쓸 수 있는 부하 테스트 도구 인데 아래와 같은 방법을 지원 한다.</p>
<ul>
<li>HTTP</li>
<li>Socket.io</li>
<li>WebSocket</li>
</ul>
<p>다른 부하 테스트 도구를 아직 안 써봐서 장점이나 단점은 잘 모르겠다..</p>
<h2 id="설치"><a href="#설치" class="headerlink" title="설치"></a>설치</h2><p>node.js가 설치되어 있어야 한다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">npm i artillery -g <span class="comment"># npm</span></span><br><span class="line">artillery -V <span class="comment"># 버전 확인</span></span><br><span class="line"><span class="comment">#         ___         __  _ ____                  _</span></span><br><span class="line"><span class="comment">#   _____/   |  _____/ /_(_) / /__  _______  __  (_)___  _____</span></span><br><span class="line"><span class="comment">#  /____/ /| | / ___/ __/ / / / _ \/ ___/ / / / / / __ \/____/</span></span><br><span class="line"><span class="comment"># /____/ ___ |/ /  / /_/ / / /  __/ /  / /_/ / / / /_/ /____/</span></span><br><span class="line"><span class="comment">#     /_/  |_/_/   \__/_/_/_/\___/_/   \__, (_)_/\____/</span></span><br><span class="line"><span class="comment">#                                     /____/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ------------ Version Info ------------</span></span><br><span class="line"><span class="comment"># Artillery: 1.6.0-29</span></span><br><span class="line"><span class="comment"># Artillery Pro: not installed (https://artillery.io/pro)</span></span><br><span class="line"><span class="comment"># Node.js: v10.16.1</span></span><br><span class="line"><span class="comment"># OS: darwin/x64</span></span><br><span class="line"><span class="comment"># --------------------------------------</span></span><br></pre></td></tr></table></figure>

<h2 id="연습할-어플리케이션"><a href="#연습할-어플리케이션" class="headerlink" title="연습할 어플리케이션"></a>연습할 어플리케이션</h2><p>아주 간단한 API를 Express로 작성</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> bodyParser = <span class="built_in">require</span>(<span class="string">&#x27;body-parser&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> uuid = <span class="built_in">require</span>(<span class="string">&#x27;nanoid&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = express();</span><br><span class="line">app.use(bodyParser.json());</span><br><span class="line">app.use(bodyParser.urlencoded(&#123;</span><br><span class="line">  extended: <span class="literal">true</span>,</span><br><span class="line">&#125;));</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> port = <span class="number">3000</span>;</span><br><span class="line"></span><br><span class="line">app.post(<span class="string">&#x27;/join&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> res.json(&#123; <span class="attr">code</span>: <span class="number">200</span>, <span class="attr">id</span>: uuid.nanoid(), <span class="attr">create_at</span>: <span class="keyword">new</span> <span class="built_in">Date</span>().getTime() &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">&#x27;/data&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; id &#125; = req.query;</span><br><span class="line">  <span class="keyword">if</span> (!id) &#123;</span><br><span class="line">    <span class="keyword">return</span> res.json(&#123; <span class="attr">code</span>: <span class="number">500</span>, <span class="attr">message</span>: <span class="string">&#x27;something wrong&#x27;</span> &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res.json(&#123; <span class="attr">code</span>: <span class="number">200</span>, id &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.listen(port, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`running on port <span class="subst">$&#123;port&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="시나리오"><a href="#시나리오" class="headerlink" title="시나리오"></a>시나리오</h2><p>시나리오를 작성한대로 API를 여러 번 호출을 하여 부하를 줄 수가 있다.</p>
<p>지금은 연습으로 HTTP 테스트 시나리오를 작성 한다.</p>
<ol>
<li>/join을 통해 ID를 응답 받는다.</li>
<li>/data에 ID를 보낸다.</li>
</ol>
<p>artillery는 json 또는 yaml을 지원하는데 yaml이 나은 듯(주석을 쓸 수 있어서!)</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">config:</span></span><br><span class="line">  <span class="attr">target:</span> <span class="string">&quot;http://localhost:3000&quot;</span> <span class="comment"># host</span></span><br><span class="line">  <span class="attr">phases:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">duration:</span> <span class="number">30</span> <span class="comment"># 해당 초만큼 실행</span></span><br><span class="line">      <span class="attr">arrivalRate:</span> <span class="number">300</span> <span class="comment"># 가상 사용자 수</span></span><br><span class="line">  <span class="attr">processor:</span> <span class="string">&quot;./util.js&quot;</span> <span class="comment"># 참조할 js</span></span><br><span class="line">  <span class="attr">defaults:</span></span><br><span class="line">    <span class="attr">headers:</span> <span class="comment"># header 세팅</span></span><br><span class="line">      <span class="attr">Content-Type:</span> <span class="string">&#x27;application/json&#x27;</span></span><br><span class="line"><span class="attr">scenarios:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">flow:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">post:</span> <span class="comment"># method 설정</span></span><br><span class="line">        <span class="attr">url:</span> <span class="string">&quot;/join&quot;</span> <span class="comment"># api url</span></span><br><span class="line">        <span class="attr">body:</span> <span class="string">&quot;&quot;</span></span><br><span class="line">        <span class="attr">afterResponse:</span> <span class="string">&quot;responseData&quot;</span> <span class="comment"># api 응답받은 후의 실행할 함수</span></span><br><span class="line">        <span class="attr">match:</span> <span class="comment"># 해당 값이 맞는지 체크</span></span><br><span class="line">          <span class="attr">json:</span> <span class="string">&quot;$.code&quot;</span> <span class="comment"># json 데이터 중에 code를 선택</span></span><br><span class="line">          <span class="attr">value:</span> <span class="number">200</span> <span class="comment"># 200이면 success 아니면 fail</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">function:</span> <span class="string">&quot;setParam&quot;</span> <span class="comment"># get 실행하기전에 참조할 함수</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">get:</span></span><br><span class="line">        <span class="attr">url:</span> <span class="string">&quot;/data?id=<span class="template-variable">&#123;&#123; id &#125;&#125;</span>&quot;</span> <span class="comment"># setParam에서 넣은 ID</span></span><br><span class="line">        <span class="attr">match:</span></span><br><span class="line">          <span class="attr">json:</span> <span class="string">&quot;$.code&quot;</span></span><br><span class="line">          <span class="attr">value:</span> <span class="number">200</span></span><br></pre></td></tr></table></figure>

<p>이전엔 몰랏는데 함수를 시나리오 로직에 추가할 수가 있었다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> data = [];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> responseData = <span class="function">(<span class="params">requestParams, response, context, ee, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> json = <span class="built_in">JSON</span>.parse(response.body);</span><br><span class="line">  <span class="keyword">if</span> (json.code === <span class="number">200</span>) &#123;</span><br><span class="line">    data.push(json.id);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> next(); <span class="comment">// next를 리턴해줘야 다시 시나리오 실행</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> setParam = <span class="function">(<span class="params">context, events, done</span>) =&gt;</span> &#123;</span><br><span class="line">   context.vars[<span class="string">&#x27;id&#x27;</span>] = data[i]; <span class="comment">// id라는 값에 파라미터 설정</span></span><br><span class="line">   i++;</span><br><span class="line">   <span class="keyword">return</span> done(); <span class="comment">// 콜백</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.responseData = responseData;</span><br><span class="line"><span class="built_in">exports</span>.setParam = setParam;</span><br></pre></td></tr></table></figure>

<h2 id="실행-및-결과"><a href="#실행-및-결과" class="headerlink" title="실행 및 결과"></a>실행 및 결과</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">artillery run -o 결과.json 실행할 파일명.yaml</span><br><span class="line">artillery report 결과.json</span><br></pre></td></tr></table></figure>

<ol>
<li>작성한 yaml파일의 실행 결과를 json으로 저장을 한다.</li>
<li>report 명령어로 실행을 하면 html로 차트 등 결과 화면을 보여 준다.</li>
</ol>
<h2 id="참고"><a href="#참고" class="headerlink" title="참고"></a>참고</h2><ul>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://artillery.io/docs/">artillery doc</a></li>
</ul>

  </div>
</article>

<script src="https://utteranc.es/client.js" repo="cheese10yun/blog-comment" issue-term="title" label="Comment" theme="github-dark-orange" crossorigin="anonymous" async>
  </script>


        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/tags/">tags</a></li>
         
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%EB%B6%80%ED%95%98-%ED%85%8C%EC%8A%A4%ED%8A%B8"><span class="toc-number">1.</span> <span class="toc-text">부하 테스트</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Artillery"><span class="toc-number">2.</span> <span class="toc-text">Artillery</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EC%84%A4%EC%B9%98"><span class="toc-number">3.</span> <span class="toc-text">설치</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EC%97%B0%EC%8A%B5%ED%95%A0-%EC%96%B4%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98"><span class="toc-number">4.</span> <span class="toc-text">연습할 어플리케이션</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EC%8B%9C%EB%82%98%EB%A6%AC%EC%98%A4"><span class="toc-number">5.</span> <span class="toc-text">시나리오</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EC%8B%A4%ED%96%89-%EB%B0%8F-%EA%B2%B0%EA%B3%BC"><span class="toc-number">6.</span> <span class="toc-text">실행 및 결과</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EC%B0%B8%EA%B3%A0"><span class="toc-number">7.</span> <span class="toc-text">참고</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://www.facebook.com/sharer.php?u=https://hidelryn.github.io/2019/10/27/etc-loadtest-artillery/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="https://twitter.com/share?url=https://hidelryn.github.io/2019/10/27/etc-loadtest-artillery/&text=Artillery를 이용한 부하 테스트"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://www.linkedin.com/shareArticle?url=https://hidelryn.github.io/2019/10/27/etc-loadtest-artillery/&title=Artillery를 이용한 부하 테스트"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="https://pinterest.com/pin/create/bookmarklet/?url=https://hidelryn.github.io/2019/10/27/etc-loadtest-artillery/&is_video=false&description=Artillery를 이용한 부하 테스트"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Artillery를 이용한 부하 테스트&body=Check out this article: https://hidelryn.github.io/2019/10/27/etc-loadtest-artillery/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="https://getpocket.com/save?url=https://hidelryn.github.io/2019/10/27/etc-loadtest-artillery/&title=Artillery를 이용한 부하 테스트"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://reddit.com/submit?url=https://hidelryn.github.io/2019/10/27/etc-loadtest-artillery/&title=Artillery를 이용한 부하 테스트"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://www.stumbleupon.com/submit?url=https://hidelryn.github.io/2019/10/27/etc-loadtest-artillery/&title=Artillery를 이용한 부하 테스트"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://digg.com/submit?url=https://hidelryn.github.io/2019/10/27/etc-loadtest-artillery/&title=Artillery를 이용한 부하 테스트"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://www.tumblr.com/share/link?url=https://hidelryn.github.io/2019/10/27/etc-loadtest-artillery/&name=Artillery를 이용한 부하 테스트&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="https://news.ycombinator.com/submitlink?u=https://hidelryn.github.io/2019/10/27/etc-loadtest-artillery/&t=Artillery를 이용한 부하 테스트"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2018-2020
    delryn
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/tags/">tags</a></li>
         
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->

<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">


<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">


    <!-- jquery -->

<script src="/lib/jquery/jquery.min.js"></script>


<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>

<!-- clipboard -->

  
<script src="/lib/clipboard/clipboard.min.js"></script>

  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-104148803-2', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Baidu Analytics -->

<!-- Disqus Comments -->


</body>
</html>
